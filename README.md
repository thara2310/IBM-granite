# -*- coding: utf-8 -*-
"""Untitled2.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1RxScLUMCOh0Wc861zThhGAbxG30Kk-kQ
"""

def answer_patient_query(query):

"""Use IBM Granite to answer patient health questions"""

model init_granite_model()

# Create prompt for answering patient query

query_prompt = f"""

As a healthcare AI assistant, provide a helpful, accurate, and evidence-based response to the following patient question:

PATIENT QUESTION: {query}

Provide a clear, empathetic response that:

Directly addresses the question

Includes relevant medical facts

Acknowledges limitations (when appropriate)

Suggests when to seek professional medical advice

Avoids making definitive diagnoses

Uses accessible, non-technical language

RESPONSE:

answer = model.generate_text(prompt=query_prompt)

return answer
prediction_prompt = f"""

As a medical AI assistant, predict potential health conditions based on the following patient data:

Current Symptoms: {symptoms}

Age: {age}

Gender: {gender}

Medical History: {medical_history}

Recent Health Metrics:

Average Heart Rate: {avg_heart_rate} bpm

Average Blood Pressure: (avg_bp_systolic}/{avg_bp_diastolic} mmHg

- Average Blood Glucose: {avg_glucose) mg/dL

Recently Reported Symptoms: {recent_symptoms}

Format your response as:

1. Potential condition name

2. Likelihood (High/Medium/Low)

3. Brief explanation

4. Recommended next steps

Provide the top 3 most likely conditions based on the data provided.

prediction = model.generate_text(prompt=prediction_prompt)

return prediction
treatment_prompt

As a medical AI assistant, generate a personalized treatment plan for the following scenario:

Patient Profile:

Condition: {condition}

Age: {age}

Gender: {gender}

Medical History: (medical_history}

Create a comprehensive, evidence-based treatment plan that includes:

1. Recommended medications (include dosage guidelines if appropriate)

2. Lifestyle modifications

3. Follow-up testing and monitoring

4. Dietary recommendations

5. Physical activity guidelines

6. Mental health considerations

Format this as a clear, structured treatment plan that follows current medical guidelines while being personalized to this patient's specific needs.

treatment_plan = model.generate_text(prompt=treatment_prompt)

return treatment_plan
